---
title: 'iOSì—ì„œ IDFA ê°€ì ¸ì˜¤ê¸° with Swift'
date: 2019-2-16 20:00:00
category: 'iOS'
draft: false
---

<div align="center">

<img src="./assets/idfa.jpg"/>

</div>

2020ë…„ ì´ˆì— íšŒì‚¬ì—ì„œ IDFAë¥¼ ìˆ˜ì§‘í•˜ëŠ” iOS ê°œë°œì„ ì§„í–‰í•˜ì˜€ìŠµë‹ˆë‹¤.

ì´ ë•Œ ê²½í—˜í•˜ê³  ê³µë¶€í–ˆë˜ ë‚´ìš©ì„ ê³µìœ í•˜ê³ ì í•©ë‹ˆë‹¤.

## í•œëª…ì˜ ì‚¬ìš©ìë¥¼ ì‹ë³„í•˜ê¸° ìœ„í•˜ì—¬

ë§ˆì¼€íŒ…, ìœ ì € í™œë™, ì§€í‘œ ë¶„ì„ ë“±ì˜ ëª©ì ìœ¼ë¡œ í•˜ë‚˜ì˜ ì•±ì—ì„œ ì—¬ëŸ¬ `Analytics`ì„ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ì ì´ë²¤íŠ¸ë¥¼ ê´€ì°°í•©ë‹ˆë‹¤.

ê·¸ë ‡ê¸°ì— ë‹¤ì–‘í•œ `Analytics`ì—ì„œ ìˆ˜ì§‘ë˜ëŠ” ì‚¬ìš©ì ì´ë²¤íŠ¸ë¥¼ ì·¨í•©í•˜ì—¬ ë¶„ì„í•˜ëŠ” ê²ƒì„ í•„ìˆ˜ì ì…ë‹ˆë‹¤.

ë”°ë¼ ìš°ë¦¬ëŠ” ëª¨ë“  `Analytics`ê°€ `í•œëª…ì˜ ì‚¬ìš©ìë¥¼ ì‹ë³„í•  ìˆ˜ ìˆëŠ” ID`ë¥¼ ê´€ì°°í•˜ë„ë¡ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤.

í•œëª…ì˜ ì‚¬ìš©ìê°€ ë°©ì¶œí•œ ëª¨ë“  ì´ë²¤íŠ¸ë¥¼ êµ¬ë¶„í•˜ì—¬ ì·¨í•©í•˜ì—¬ì•¼ í•˜ê¸° ë•Œë¬¸ì´ì£ .

## ë‹¤ì–‘í•œ Analyticsì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” USER_ID

ëª¨ë“  `Analytics`ì´ `í•œëª…ì˜ ì‚¬ìš©ìë¥¼ ì‹ë³„í•  ìˆ˜ ìˆëŠ” ID`ë¡œ ë¬´ì—‡ì„ ì‚¬ìš©í•˜ë©´ ì¢‹ì„ê¹Œìš”?

â“ ì„œë¹„ìŠ¤ ë‚´ì—ì„œ ìì²´ì ìœ¼ë¡œ ë°œê¸‰í•˜ëŠ” `USER_ID`ëŠ” ì–´ë–¤ê°€ìš”?

ğŸ˜© ì‚¬ìš©ìì˜ ì„œë¹„ìŠ¤ ê°€ì… ë° ì•± ì„¤ì¹˜ ìœ ì… ê²½ë¡œë¥¼ ê´€ì°°í•˜ëŠ” `Analytics`ì—ì„œëŠ” ì‚¬ìš©ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.

â“ ê° `Analytics`ì—ì„œ ë°œê¸‰í•˜ëŠ” `USER_ID`ëŠ” ì–´ë–¤ê°€ìš”?

ğŸ˜© í—ˆë‚˜ ê°ê°ì˜ ë§ˆì¼€íŒ… íˆ´ì—ì„œ ë°œê¸‰í•˜ëŠ” `USER_ID (ì‚¬ìš©ìë¥¼ ì‹ë³„í•  ìˆ˜ ìˆëŠ” ê³ ìœ í•œ ê°’)` ì€ ëª¨ë‘ ë‹¤ë¦…ë‹ˆë‹¤.

---
ì„œë¹„ìŠ¤, `Analytics`ì—ì„œ ë°œê¸‰í•˜ëŠ” `USER_ID`ë¡œëŠ” ì ˆëŒ€ ì‚¬ìš©ìì˜ ì´ë²¤íŠ¸ë¥¼ ì·¨í•©í•˜ê³  ë¶„ì„í•˜ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.

ìœ„ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•˜ì—¬ `ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸`ì™€ ê°™ì´ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ê¸°ê´€ì—ì„œ ë°œê¸‰í•˜ëŠ” `USER_ID`ê°€ í•„ìš”í•©ë‹ˆë‹¤.

ê·¸ë¦¬ê³  ï£¿ Apple ì—ì„œëŠ” `IDFA (iOS ê¸°ê¸°ìš© ê´‘ê³  ì‹ë³„ì)`ë¼ëŠ” ê²ƒì„ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤.

### IDFAë€

> Appleì—ì„œ ì œê³µí•˜ëŠ” ì‚¬ìš©ìì˜ ê¸°ê¸°ë¥¼ ì‹ë³„í•  ìˆ˜ ìˆëŠ” ê³ ìœ ì˜ ëœë¤í•œ ì‹ë³„ìì…ë‹ˆë‹¤.

> The IDFA (Identity for Advertisers) is the individual and random identifier used by Apple to identify and measure iOS user devices.

ëª¨ë“  iOS ê¸°ê¸°ì—ëŠ” í•˜ë‚˜ì˜ ê³ ìœ í•œ `IDFA`ê°€ ë‚´ì œë˜ì–´ ìˆìŠµë‹ˆë‹¤.

ìš°ë¦¬ëŠ” ì´ë¥¼ í†µí•´ ë‹¤ì–‘í•œ `Analytics`ì—ì„œ ìˆ˜ì§‘ë˜ëŠ” ì‚¬ìš©ì ì´ë²¤íŠ¸ë¥¼ ì·¨í•©í•˜ì—¬ ë¶„ì„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## iOSì—ì„œ IDFA ê°€ì ¸ì˜¤ê¸°

iOSì—ì„œëŠ” IDFAë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ ìš°ë¦¬ëŠ” `ASIdentifierManager`ë¥¼ ì‚¬ìš©í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤.

```swift
import AdSupport

// IDFA ê´€ë ¨ ê°’ì„ ê´€ì¥í•˜ëŠ” Manager í´ë˜ìŠ¤
// ê¼­ `shared` í•¨ìˆ˜ë¥¼ í†µí•´ Instanceì— ì ‘ê·¼í•˜ì„¸ìš”
let manager = ASIdentifierManager.shared()

/*
 `isAdvertisingTrackingEnabled`ë¥¼ í†µí•´ ì‚¬ìš©ìê°€
 ê´‘ê³  ì¶”ì  ì œí•œ(LAT) ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê³  ìˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

 ë§Œì•½ ì‚¬ìš©ìê°€ ê´‘ê³  ì¶”ì  ì œí•œ ê¸°ëŠ¥ì„ ì¼°ë‹¤ë©´
 `IDFA` ê°’ì€ `00000000-0000-0000-0000-000000000000` ìœ¼ë¡œ ë°˜í™˜ë©ë‹ˆë‹¤.
 */
guard manager.isAdvertisingTrackingEnabled else {
    return
}

// `advertisingIdentifier` ë¥¼ í†µí•˜ì—¬ IDFAë¥¼ ë°˜í™˜ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
// IDFAì˜ ìë£Œí˜•ì€ UUID ê°’ ì…ë‹ˆë‹¤.
print(manager.advertisingIdentifier)

```

**â—ï¸ì½”ë“œë¥¼ ì ìš©í•  ë•Œ ì£¼ì˜í•  ì â—ï¸**

- IDFAë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” ê¼­ `ê´‘ê³  ì¶”ì  ì œí•œ` ìœ¼ë¡œ ì¸í•´ ê´€ì°°ì´ ì œí•œ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- IDFAëŠ” ì‚¬ìš©ìì˜ ìš”ì²­ì— ë”°ë¼ ì–¸ì œë“ ì§€ ì¬ì„¤ì • ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì•± ë‚´ì— IDFAë¥¼ ì‚¬ìš©ì½”ë“œê°€ ìˆë‹¤ë©´ ì•± ì œì¶œì‹œ ê´‘ê³  ì‹ë³„ì ì‚¬ìš© ì—¬ë¶€ì— ëŒ€í•´ ë‹µí•´ì•¼í•©ë‹ˆë‹¤. [Appstore Connect ê°€ì´ë“œë¼ì¸](https://help.apple.com/app-store-connect/#/dev301cb2b3e)

### ë§ˆì¹˜ë©°
ì˜¤ëŠ˜ `IDFA`ê°€ ë¬´ì—‡ì´ë©° ì‹¤ì œ ì½”ë“œì—ì„œ ì–´ë–»ê²Œ ì‚¬ìš©ë˜ëŠ”ì§€ ê°„ë‹¨í•˜ê²Œ ì•Œì•„ë³´ì•˜ìŠµë‹ˆë‹¤.

ìœ„ Post ë‚´ìš©ì„ í†µí•´ `IDFA`ê°€ ì–´ë– í•œ ê³ í†µ & ë¬¸ì œ ì†ì—ì„œ íƒ„ìƒí•˜ê²Œ ë˜ì—ˆëŠ”ì§€ ì•Œì•„ê°€ëŠ” ì‹œê°„ì´ ë˜ì—ˆê¸¸ ë°”ëë‹ˆë‹¤.

### ì°¸ê³  ìë£Œ

[IDFA ê´€ë ¨ Apple ê³µì‹ ë¬¸ì„œ](https://developer.apple.com/documentation/adsupport/asidentifiermanager)

[Appsflyer IDFA ê´€ë ¨ ë¬¸ì„œ](https://support.appsflyer.com/hc/ko/articles/207032086-%EC%95%A0%ED%94%8C%EC%9D%98-%EC%83%88%EB%A1%9C%EC%9A%B4-IDFA-%EA%B0%80%EC%9D%B4%EB%93%9C%EB%9D%BC%EC%9D%B8-IDFA-%EA%B4%80%EB%A0%A8-iOS-%EC%95%B1-%EC%A0%9C%EC%B6%9C-%EB%B0%A9%EB%B2%95)

[Appstore Connect ê°€ì´ë“œë¼ì¸](https://help.apple.com/app-store-connect/#/dev301cb2b3e)

[Google Authorized Buyers Q&A](https://support.google.com/authorizedbuyers/answer/3221407?hl=ko)